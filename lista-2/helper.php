<?php

const PLAY = 1;
const ADD_WORD = 2;
const ADD_GROUP = 3;
const SHOW_WORDS = 4;
const SHOW_GROUPS = 5;
const EXIT_GAME = 6;

function mb_str_pad($str, $pad_len, $pad_str = ' ', $dir = STR_PAD_RIGHT, $encoding = "UTF-8")
{
    $encoding = $encoding === NULL ? mb_internal_encoding() : $encoding;
    $padBefore = $dir === STR_PAD_BOTH || $dir === STR_PAD_LEFT;
    $padAfter = $dir === STR_PAD_BOTH || $dir === STR_PAD_RIGHT;
    $pad_len -= mb_strlen($str, $encoding);
    $targetLen = $padBefore && $padAfter ? $pad_len / 2 : $pad_len;
    $strToRepeatLen = mb_strlen($pad_str, $encoding);
    $repeatTimes = ceil($targetLen / $strToRepeatLen);
    $repeatedString = str_repeat($pad_str, max(0, $repeatTimes)); // safe if used with valid utf-8 strings
    $before = $padBefore ? mb_substr($repeatedString, 0, floor($targetLen), $encoding) : '';
    $after = $padAfter ? mb_substr($repeatedString, 0, ceil($targetLen), $encoding) : '';
    return $before . $str . $after;
}

Class Helper {
  public static function mb_substr_replace($str, $repl, $start, $length = null) {
    preg_match_all('/./us', $str, $ar);
    preg_match_all('/./us', $repl, $rar);
    $length = is_int($length) ? $length : utf8_strlen($str);
    array_splice($ar[0], $start, $length, $rar[0]);
    return implode($ar[0]);
  }

  public static function sanitizeString($str) {
    $str = preg_replace('/[áàãâä]/ui', 'a', $str);
    $str = preg_replace('/[éèêë]/ui', 'e', $str);
    $str = preg_replace('/[íìîï]/ui', 'i', $str);
    $str = preg_replace('/[óòõôö]/ui', 'o', $str);
    $str = preg_replace('/[úùûü]/ui', 'u', $str);
    $str = preg_replace('/[ç]/ui', 'c', $str);
    // $str = preg_replace('/[,(),;:|!"#$%&/=?~^><ªº-]/', '_', $str);
    $str = preg_replace('/[^a-z0-9]/i', '_', $str);
    $str = preg_replace('/_+/', '_', $str); // ideia do Bacco :)
    return $str;
  }

  public static function clearCLI() {
    echo chr(27).chr(91).'H'.chr(27).chr(91).'J';
  }

  public static function gameOverDraw() {
    $draw = "
  __   __   __  __  ___     __   _  _  ___  ___  
 / _) (  ) (  \/  )(  _)   /  \ ( )( )(  _)(  ,) 
( (/\ /__\  )    (  ) _)  ( () ) \\//  ) _) )  \ 
 \__/(_)(_)(_/\/\_)(___)   \__/  (__) (___)(_)\_)
";
   return $draw;
  }

  public static function winDraw() {
    $draw = "
  __    __  ___  ___   ____   __   _  _
 (  )  / _)(  _)(  ,) (_  _) /  \ ( )( )
 /__\ ( (_  ) _) )  \   )(  ( () ) )()( 
(_)(_) \__)(___)(_)\_) (__)  \__/  \__/
";
    return $draw;
  }

  public static function playerDraw($number) {
    $player[1] = "
 ___  __     __   _  _  ___  ___     __ 
(  ,\(  )   (  ) ( \/ )(  _)(  ,)   (  )
 ) _/ )(__  /__\  \  /  ) _) )  \    )( 
(_)  (____)(_)(_)(__/  (___)(_)\_)  (__)
";

    $player[2] = "
 ___  __     __   _  _  ___  ___     ___ 
(  ,\(  )   (  ) ( \/ )(  _)(  ,)   (__ \
 ) _/ )(__  /__\  \  /  ) _) )  \   / __/
(_)  (____)(_)(_)(__/  (___)(_)\_)  \___)
";

    $player[3] = "
 ___  __     __   _  _  ___  ___     ___ 
(  ,\(  )   (  ) ( \/ )(  _)(  ,)   (__ )
 ) _/ )(__  /__\  \  /  ) _) )  \    (_ \
(_)  (____)(_)(_)(__/  (___)(_)\_)  (___/
    ";

    return $player[$number];
  }

  public static function lifeDraw(int $param) {
    $life = array();

    $life[7] = 
    "
░░░░░░░░░░░░░░░░░█████████████████████░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░▐████▌░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░██████████░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██░░██░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██░░██░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██░░██░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██░░██░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░";

    $life[6] = "
░░░░░░░░░░░░░░░░░█████████████████████░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░▐████▌░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░██████████░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░";

    $life[5] = "
░░░░░░░░░░░░░░░░░█████████████████████░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░▐████▌░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░██████████░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░█░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░";

    $life[4] = "
░░░░░░░░░░░░░░░░░█████████████████████░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░▐████▌░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░████████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░█░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░";

    $life[3] = "
░░░░░░░░░░░░░░░░░█████████████████████░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░▐████▌░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░";

    $life[2] = "
░░░░░░░░░░░░░░░░░█████████████████████░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░▐████▌░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░██░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░";

    $life[1] = "
░░░░░░░░░░░░░░░░░█████████████████████░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░▐████▌░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░";

    $life[0] = "
░░░░░░░░░░░░░░░░░█████████████████████░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░│░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░";

    return $life[$param];
  }
}